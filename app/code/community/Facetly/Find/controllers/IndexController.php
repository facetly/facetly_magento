<?php	class Facetly_Find_IndexController extends Mage_Core_Controller_Front_Action {            public function indexAction() {		$search = Mage::getModel('find/custom');		$this->loadLayout();				$param = $this->getRequest()->getParams();		$this->getLayout()->getBlock('facetly_form')->assign('param', $param);						try{			$facetly_output = $search->searchItem($param);			$this->getLayout()->getBlock('facetly_facet')->assign('facetly_facets',  $facetly_output->facets);			$this->getLayout()->getBlock('facetly_result')->assign('facetly_results', $facetly_output->results);					}		catch(Exception $e){			$this->getLayout()->getBlock('facetly_result')->assign('facetly_results', $e->getMessage());		}						$this->renderLayout();    }} ?>